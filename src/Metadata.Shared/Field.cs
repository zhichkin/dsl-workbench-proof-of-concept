using OneCSharp.Persistence.Shared;
using System;

namespace OneCSharp.Metadata.Shared
{
    [TypeCode(6)]
    public sealed class Field : MetadataObject
    {
        public Field() : base(6) { }
        public Field(Guid key) : base(6, key) { }

        private Table table = null; // Table - owner of the field
        private Property property = null; // Property using field to store data
        private FieldPurpose purpose = FieldPurpose.Value; // purpose of the field
        private string type_name = string.Empty; // data type name
        private int length = 0;
        private int precision = 0;
        private int scale = 0;
        private bool is_nullable = false;
        private bool is_readonly = false; // auto-generated by database
        private bool is_primary_key = false;
        private byte key_ordinal = 0;

        public Table Table { set { Set(value, ref table); } get { return table; } }
        public Property Property { set { Set(value, ref property); } get { return property; } }
        public FieldPurpose Purpose { set { Set(value, ref purpose); } get { return purpose; } }
        public string TypeName { set { Set(value, ref type_name); } get { return type_name; } }
        public int Length { set { Set(value, ref length); } get { return length; } }
        public int Precision { set { Set(value, ref precision); } get { return precision; } }
        public int Scale { set { Set(value, ref scale); } get { return scale; } }
        public bool IsNullable { set { Set(value, ref is_nullable); } get { return is_nullable; } }
        public bool IsReadOnly { set { Set(value, ref is_readonly); } get { return is_readonly; } }
        public bool IsPrimaryKey { set { Set(value, ref is_primary_key); } get { return is_primary_key; } }
        public byte KeyOrdinal { set { Set(value, ref key_ordinal); } get { return key_ordinal; } }
    }
}
