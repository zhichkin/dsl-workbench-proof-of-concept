using System;

namespace OneCSharp.Persistence.Shared
{
    [AttributeUsage(AttributeTargets.Class, Inherited = false, AllowMultiple = false)]
    public sealed class TypeCodeAttribute : Attribute
    {
        public TypeCodeAttribute(int typeCode)
        {
            this.TypeCode = typeCode;
        }
        public int TypeCode { get; private set; }
    }
    [AttributeUsage(AttributeTargets.Class, Inherited = true, AllowMultiple = false)]
    public sealed class SchemaAttribute : Attribute
    {
        public SchemaAttribute(string schema)
        {
            this.Schema = schema;
        }
        public string Schema { get; private set; }
    }
    [AttributeUsage(AttributeTargets.Class, Inherited = false, AllowMultiple = false)]
    public sealed class TableAttribute : Attribute
    {
        public TableAttribute(string name)
        {
            this.Name = name;
        }
        public string Name { get; private set; }
    }

    [AttributeUsage(AttributeTargets.Property, Inherited = false, AllowMultiple = true)]
    public class FieldAttribute : Attribute
    {
        public FieldAttribute(string name, string typeName,
            bool isNullable = false,
            bool isAutoGenerated = false,
            FieldPurpose purpose = FieldPurpose.Value)
        {
            this.Name = name;
            this.Purpose = purpose;
            this.TypeName = typeName;
            this.IsNullable = isNullable;
            this.IsAutoGenerated = isAutoGenerated;
        }
        public string Name { get; private set; }
        public string TypeName { get; private set; }
        public bool IsNullable { get; private set; }
        public bool IsAutoGenerated { get; private set; }
        public FieldPurpose Purpose { get; private set; }
    }

    [AttributeUsage(AttributeTargets.Class, Inherited = true, AllowMultiple = true)]
    public sealed class PrimaryKeyAttribute : FieldAttribute
    {
        public PrimaryKeyAttribute(string name, string typeName) : base(name, typeName) { }
    }




    [AttributeUsage(AttributeTargets.Class, Inherited = true, AllowMultiple = false)]
    public sealed class VersionAttribute : FieldAttribute
    {
        public VersionAttribute(string name, string typeName = "rowversion") : base(name, typeName) { }
    }
    
}
